<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
        <section id="payment">

            <group id="checkoutcom" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                <label><![CDATA[<div class="checkout-payment-logo"></div><div class="checkout-payment-byline">Checkout.com delivers increased payment processing speed, greater reliability, and adaptability to the needs of your business with a unified payment solution.</div>]]></label>
                <fieldset_css>checkout-settings checkout-payment-section</fieldset_css>
                <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Fieldset\Payment</frontend_model>

                <group id="module" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Configuration</label>
                    <group id="global_settings" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Global Settings</label>
                        <field id="active" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Enable Module</label>
                            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                            <config_path>settings/checkoutcom_configuration/active</config_path>
                            <requires>
                                <field id="secret_key"/>
                                <field id="public_key"/>
                                <field id="private_shared_key"/>
                            </requires>
                        </field>

                        <field id="environment" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Environment</label>
                            <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigEnvironment</source_model>
                            <config_path>settings/checkoutcom_configuration/environment</config_path>
                        </field>

                        <field id="secret_key" translate="label" type="obscure" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Secret Key</label>
                            <backend_model>Magento\Config\Model\Config\Backend\Encrypted</backend_model>
                            <config_path>settings/checkoutcom_configuration/secret_key</config_path>
                        </field>

                        <field id="public_key" translate="label" type="obscure" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Public Key</label>
                            <backend_model>Magento\Config\Model\Config\Backend\Encrypted</backend_model>
                            <config_path>settings/checkoutcom_configuration/public_key</config_path>
                        </field>

                        <field id="private_shared_key" translate="label" type="obscure" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Private Shared Key</label>
                            <backend_model>Magento\Config\Model\Config\Backend\Encrypted</backend_model>
                            <config_path>settings/checkoutcom_configuration/private_shared_key</config_path>
                        </field>
                    </group>
                    <group id="order_settings" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Order Settings</label>
                        <field id="order_status_authorized" translate="label comment" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Authorization order status</label>
                            <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigOrderStatus</source_model>
                            <config_path>settings/checkoutcom_configuration/order_status_authorized</config_path>
                            <comment>Select the status that should be used for orders with successful payment authorisation.</comment>
                        </field>

                        <field id="order_status_captured" translate="label comment" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Capture order status</label>
                            <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigOrderStatus</source_model>
                            <config_path>settings/checkoutcom_configuration/order_status_captured</config_path>
                            <comment>Select the status that should be used for orders with successful payment capture.</comment>
                        </field>

                        <field id="order_status_refunded" translate="label comment" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Refund order status</label>
                            <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigOrderStatus</source_model>
                            <config_path>settings/checkoutcom_configuration/order_status_refunded</config_path>
                            <comment>Select the status that should be used for new orders with successful payment refund.</comment>
                        </field>

                        <field id="order_status_flagged" translate="label comment" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Flagged order status</label>
                            <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigOrderStatus</source_model>
                            <config_path>settings/checkoutcom_configuration/order_status_flagged</config_path>
                            <comment>Select the status that should be used for flagged orders.</comment>
                        </field>
                    

                    </group>
                </group>

                <group id="checkoutcom_card_payments" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Card Payments</label>
                    <field id="title" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Payment Option Title</label>
                        <config_path>payment/checkoutcom_card_payment/title</config_path>
                    </field>

                    <field id="active" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Enable Card Payments</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_card_payment/active</config_path>
                    </field>

                    <field id="payment_action" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Payment Action</label>
                        <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigPaymentAction</source_model>
                        <config_path>payment/checkoutcom_card_payment/payment_action</config_path>
                    </field>

                    <field id="capture_on" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Capture On</label>
                        <depends>
                            <field id="payment_action">authorize_capture</field>
                        </depends>
                        <frontend_model>CheckoutCom\Magento2\Block\Widgets\DatePicker</frontend_model>
                        <config_path>payment/checkoutcom_card_payment/capture_on</config_path>
                    </field>
                    
                    <field id="three_ds" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Use 3D Secure</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_card_payment/three_ds</config_path>
                    </field>

                    <field id="attempt_n3d" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Attempt non-3D Secure</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <depends>
                            <field id="three_ds">1</field>
                        </depends>
                        <config_path>payment/checkoutcom_card_payment/attempt_n3d</config_path>
                    </field>

                    <field id="save_cards_enabled" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Enable Save Cards</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_card_payment/save_cards_enabled</config_path>
                    </field>

                    <field id="save_cards_title" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Saved Cards Option Title</label>
                        <depends>
                            <field id="save_cards_enabled">1</field>
                        </depends>
                        <config_path>payment/checkoutcom_card_payment/save_cards_title</config_path>
                    </field>

                    <field id="dynamic_decriptor_enabled" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Enable Dynamic Descriptor</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <depends>
                            <field id="save_cards_enabled">1</field>
                        </depends>
                        <config_path>payment/checkoutcom_card_payment/dynamic_decriptor_enabled</config_path>
                    </field>

                    <field id="decriptor_name" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Descriptor Name</label>
                        <depends>
                            <field id="dynamic_decriptor_enabled">1</field>
                        </depends>
                        <config_path>payment/checkoutcom_card_payment/decriptor_name</config_path>
                    </field>

                    <field id="decriptor_city" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Descriptor City</label>
                        <depends>
                            <field id="dynamic_decriptor_enabled">1</field>
                        </depends>
                        <config_path>payment/checkoutcom_card_payment/decriptor_city</config_path>
                    </field>

                    <field id="cvv_optional" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>CVV Optional</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_card_payment/cvv_optional</config_path>
                    </field>

                    <field id="mada_enabled" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Enable MADA BIN Check</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_card_payment/mada_enabled</config_path>
                        <comment>
                            Add a flag to the charge request if the payment card is MADA.
                        </comment>
                    </field>
                </group>

                <group id="checkoutcom_apm" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Alternative Payments</label>
                    <field id="title" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Title</label>
                        <config_path>payment/checkoutcom_apm/title</config_path>
                    </field>

                    <field id="active" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Enable Alternative Payments</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_apm/active</config_path>
                    </field>

                    <field id="apm" translate="label" type="multiselect" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Alternative Payments</label>
                        <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigAlternativePayments</source_model>
                        <depends>
                            <field id="active">1</field>
                        </depends>
                        <config_path>payment/checkoutcom_apm/apm</config_path>
                    </field>
                </group>

                <group id="checkoutcom_apple_pay" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Apple Pay</label>
                    <field id="title" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Title</label>
                        <config_path>payment/checkoutcom_apple_pay/title</config_path>
                    </field>

                    <field id="active" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Enable Apple Pay</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_apple_pay/active</config_path>
                        <requires>
                            <field id="processing_certificate"/>
                            <field id="merchant_id_certificate"/>
                            <field id="merchant_id"/>
                        </requires>
                    </field>

                    <field id="sort_order" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Sort Order</label>
                        <validate>validate-number</validate>
                        <config_path>payment/checkoutcom_apple_pay/sort_order</config_path>
                    </field>

                    <field id="processing_certificate" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Payment Processing Certificate</label>
                        <config_path>payment/checkoutcom_apple_pay/processing_certificate</config_path>
                        <comment>Abslolute path to the file on your server</comment>
                    </field>

                    <field id="processing_certificate_password" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Processing Certificate Password</label>
                        <config_path>payment/checkoutcom_apple_pay/processing_certificate_password</config_path>
                        <comment>Password for the payment processing certificate</comment>
                    </field>
                    
                    <field id="merchant_id_certificate" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Merchant Identity Certificate</label>
                        <config_path>payment/checkoutcom_apple_pay/merchant_id_certificate</config_path>
                        <comment>Abslolute path to the file on your server</comment>
                    </field>

                    <field id="merchant_id" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Merchant ID</label>
                        <config_path>payment/checkoutcom_apple_pay/merchant_id</config_path>
                        <comment>Provide your Merchant ID</comment>
                    </field>

                    <field id="button_style" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Button Style</label>
                        <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigApplePayButton</source_model>
                        <config_path>payment/checkoutcom_apple_pay/button_style</config_path>
                        <comment>The Apple Pay place order button style</comment>
                    </field>

                    <field id="supported_networks" translate="label" type="multiselect" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Supported Networks</label>
                        <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigApplePayNetworks</source_model>
                        <config_path>payment/checkoutcom_apple_pay/supported_networks</config_path>
                        <comment>Select the Apple Pay supported cards</comment>
                    </field>

                    <field id="merchant_capabilities" translate="label" type="multiselect" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Merchant Capabilities</label>
                        <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigApplePayCapabilities</source_model>
                        <config_path>payment/checkoutcom_apple_pay/merchant_capabilities</config_path>
                        <comment>Select the Apple Pay merchant capabilities</comment>
                    </field>
                </group>

                <group id="checkoutcom_google_pay" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Google Pay</label>
                    <field id="title" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Title</label>
                        <config_path>payment/checkoutcom_google_pay/title</config_path>
                    </field>

                    <field id="active" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Enable Google Pay</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_google_pay/active</config_path>
                        <requires>
                            <field id="merchant_id"/>
                        </requires>
                    </field>

                    <field id="sort_order" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Sort Order</label>
                        <validate>validate-number</validate>
                        <config_path>payment/checkoutcom_google_pay/sort_order</config_path>
                    </field>

                    <field id="environment" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Environment</label>
                        <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigGooglePayEnvironment</source_model>
                        <config_path>payment/checkoutcom_google_pay/environment</config_path>
                    </field>

                    <field id="merchant_id" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Merchant ID</label>
                        <config_path>payment/checkoutcom_google_pay/merchant_id</config_path>
                        <comment>Provide your Merchant ID</comment>
                    </field>

                    <field id="button_style" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Button Style</label>
                        <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigGooglePayButton</source_model>
                        <config_path>payment/checkoutcom_google_pay/button_style</config_path>
                        <comment>The Google Pay place order button style</comment>
                    </field>

                    <field id="allowed_card_networks" translate="label" type="multiselect" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Supported Networks</label>
                        <source_model>CheckoutCom\Magento2\Model\Config\Backend\Source\ConfigGooglePayNetworks</source_model>
                        <config_path>payment/checkoutcom_google_pay/allowed_card_networks</config_path>
                        <comment>Select the Google Pay supported cards</comment>
                    </field>
                </group>
    
                <group id="checkoutcom_vault" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Vault Cards</label>
                    <field id="active" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Vault Enabled</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_vault/active</config_path>
                    </field>

                    <field id="title" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Title</label>
                        <config_path>payment/checkoutcom_vault/title</config_path>
                    </field>

                    <field id="three_ds" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Use 3D Secure</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_vault/three_ds</config_path>
                    </field>

                    <field id="attempt_n3d" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Attempt non-3D Secure</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <depends>
                            <field id="three_ds">1</field>
                        </depends>
                        <config_path>payment/checkoutcom_vault/attempt_n3d</config_path>
                    </field>

                    <field id="sort_order" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Sort Order</label>
                        <validate>validate-number</validate>
                        <config_path>payment/checkoutcom_vault/sort_order</config_path>
                    </field>
                </group>

                <group id="checkoutcom_moto" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>MOTO Payments</label>
                    <field id="active" translate="label" type="select" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Vault Enabled</label>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>payment/checkoutcom_moto/active</config_path>
                    </field>

                    <field id="title" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Title</label>
                        <config_path>payment/checkoutcom_moto/title</config_path>
                    </field>

                    <field id="sort_order" translate="label" type="text" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Sort Order</label>
                        <validate>validate-number</validate>
                        <config_path>payment/checkoutcom_moto/sort_order</config_path>
                    </field>
                </group>
            </group>
        </section>
    </system>
</config>